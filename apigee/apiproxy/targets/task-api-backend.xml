<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<TargetEndpoint name="task-api-backend">
    <Description>Backend target for Task Management API</Description>
    <FaultRules/>
    <Flows/>
    <PostFlow name="PostFlow">
        <Request/>
        <Response/>
    </PostFlow>
    <HTTPTargetConnection>
        <!-- Replace with your actual backend URL -->
        <URL>https://your-fastapi-backend.com</URL>
        <Properties>
            <Property name="supports.http10">true</Property>
            <Property name="request.retain.headers">User-Agent,Referer,Accept-Language</Property>
            <Property name="retain.queryparams">true</Property>
        </Properties>
        <CommonName/>
        <IsEnabled>true</IsEnabled>
        <MaxConnections>50</MaxConnections>
        <!-- Health check configuration -->
        <HealthMonitor>
            <IsEnabled>true</IsEnabled>
            <IntervalInSec>30</IntervalInSec>
            <Resource>/health</Resource>
            <TCPMonitor>
                <ConnectTimeoutInSec>10</ConnectTimeoutInSec>
                <SocketReadTimeoutInSec>30</SocketReadTimeoutInSec>
            </TCPMonitor>
        </HealthMonitor>
    </HTTPTargetConnection>
</TargetEndpoint>